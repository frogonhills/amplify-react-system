{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/shifatahmed_MAC/amplifymaster/src/components/CreatePost.js\";\nimport { API, Auth, graphqlOperation } from \"aws-amplify\";\nimport React, { Component } from \"react\";\nimport { createPost } from '../graphql/mutations';\n\nclass CreatePost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      postOwnerID: \"\",\n      postOwnerUsername: \"\",\n      postTitle: \"\",\n      postBody: \"\"\n    };\n\n    this.componentDidMount = async () => {\n      //todo:tba\n      await Auth.currentUserInfo().then(user => {\n        this.setState({\n          postOwnerID: user.attributes.sub,\n          postOwnerUsername: user.username\n        }); //console.log(\"curr: User:\" , user.username);\n        //console.log(\"Attr.sub: User:\" , user.attributes.sub)\n      });\n    };\n\n    this.handleChanePost = event => this.setState({\n      [event.target.name]: event.target.value\n    });\n\n    this.handleAddPost = async event => {\n      event.preventDefault();\n      const input = {\n        postOwnerId: this.state.postOwnerID,\n        postOwnerUsername: this.state.postOwnerUsername,\n        postTitle: this.state.postTitle,\n        postBody: this.state.postBody,\n        createdAt: new Date().toISOString()\n      };\n      await API.graphql(graphqlOperation(createPost, {\n        input\n      }));\n      this.setState({\n        postTitle: \"\",\n        postBody: \"\"\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"add-post\",\n      onSubmit: this.handleAddPost,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          font: '19px'\n        },\n        type: \"text\",\n        placeholder: \"Title\",\n        name: \"postTitle\",\n        required: true,\n        value: this.state.postTitle,\n        onChange: this.handleChanePost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        name: \"postBody\",\n        rows: \"3\",\n        cols: \"40\",\n        placeholder: \"Write your mind\",\n        required: true,\n        value: this.state.postBody,\n        onChange: this.handleChanePost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"btn\",\n        style: {\n          fontSize: '19px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 14\n    }, this);\n  }\n\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["/Users/shifatahmed_MAC/amplifymaster/src/components/CreatePost.js"],"names":["API","Auth","graphqlOperation","React","Component","createPost","CreatePost","state","postOwnerID","postOwnerUsername","postTitle","postBody","componentDidMount","currentUserInfo","then","user","setState","attributes","sub","username","handleChanePost","event","target","name","value","handleAddPost","preventDefault","input","postOwnerId","createdAt","Date","toISOString","graphql","render","font","fontSize"],"mappings":"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","sourcesContent":["import { API, Auth, graphqlOperation } from \"aws-amplify\";\nimport React , {Component }  from \"react\";\nimport { createPost  } from '../graphql/mutations';\n\n\n class CreatePost extends Component {\n\n\n\n    state = {\n        postOwnerID:\"\",\n        postOwnerUsername: \"\",\n        postTitle: \"\",\n        postBody: \"\"\n    }\n\n\n    componentDidMount = async () =>{\n        //todo:tba\n       await Auth.currentUserInfo()\n            .then (user=>{\n\n                this.setState({\n                    postOwnerID: user.attributes.sub,\n                    postOwnerUsername: user.username\n                })\n                //console.log(\"curr: User:\" , user.username);\n                //console.log(\"Attr.sub: User:\" , user.attributes.sub)\n            })\n    }\n\n\n    handleChanePost = event => this.setState({[event.target.name]: event.target.value })\n\n    handleAddPost = async event => {\n        event.preventDefault()\n        \n        const input = {\n            postOwnerId: this.state.postOwnerID, \n            postOwnerUsername: this.state.postOwnerUsername,\n            postTitle: this.state.postTitle,\n            postBody: this.state.postBody,\n            createdAt: new Date().toISOString()\n        }\n\n\n        await API.graphql(graphqlOperation(createPost, {input}));\n        this.setState({postTitle:\"\" , postBody:\"\"})\n\n\n    }\n     render(){\n         return(\n             <form className=\"add-post\"  onSubmit={this.handleAddPost} >\n                 <input style={{font: '19px'}}  type=\"text\"  placeholder=\"Title\" name=\"postTitle\"  required  value={this.state.postTitle} onChange={this.handleChanePost}  />\n                 <textarea   type=\"text\" name= \"postBody\" rows=\"3\" cols=\"40\"  placeholder=\"Write your mind\"  required value={this.state.postBody} onChange={this.handleChanePost}  />\n\n                 <input  type=\"submit\" className=\"btn\" style={{fontSize: '19px'}} />\n\n                 \n                 \n             </form>\n         )\n     }\n }\n\n\n export default CreatePost;"]},"metadata":{},"sourceType":"module"}